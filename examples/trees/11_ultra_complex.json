{
  "$schema": "1.0.0",
  "metadata": {
    "name": "Ultra Complex Demo - All Node Types",
    "version": "1.0.0",
    "description": "Comprehensive demonstration showcasing decorators, parallel execution, status converters, and blackboard operations",
    "author": "TalkingTrees",
    "tags": ["demo", "comprehensive", "advanced"],
    "status": "active"
  },
  "root": {
    "node_type": "Selector",
    "name": "Main Controller",
    "config": {
      "memory": false
    },
    "children": [
      {
        "node_type": "Sequence",
        "name": "Branch 1: Timeout & Inverter Demo",
        "config": {
          "memory": true
        },
        "children": [
          {
            "node_type": "CheckBlackboardCondition",
            "name": "Check Battery Low",
            "config": {
              "variable": "battery",
              "operator_str": "<",
              "value": 20
            }
          },
          {
            "node_type": "Timeout",
            "name": "Emergency Timeout",
            "config": {
              "duration": 5.0
            },
            "children": [
              {
                "node_type": "Inverter",
                "name": "Invert Result",
                "config": {},
                "children": [
                  {
                    "node_type": "SetBlackboardVariable",
                    "name": "Set Emergency Mode",
                    "config": {
                      "variable": "emergency_mode",
                      "value": "true"
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "node_type": "Sequence",
        "name": "Branch 2: Status Converters",
        "config": {
          "memory": false
        },
        "children": [
          {
            "node_type": "SuccessIsFailure",
            "name": "Success → Failure",
            "config": {},
            "children": [
              {
                "node_type": "FailureIsSuccess",
                "name": "Failure → Success",
                "config": {},
                "children": [
                  {
                    "node_type": "Success",
                    "name": "Always Succeed",
                    "config": {}
                  }
                ]
              }
            ]
          },
          {
            "node_type": "RunningIsSuccess",
            "name": "Running → Success",
            "config": {},
            "children": [
              {
                "node_type": "Running",
                "name": "Always Running",
                "config": {}
              }
            ]
          }
        ]
      },
      {
        "node_type": "Sequence",
        "name": "Branch 3: Repetition & OneShot",
        "config": {
          "memory": true
        },
        "children": [
          {
            "node_type": "Retry",
            "name": "Retry 3 Times",
            "config": {
              "num_failures": 3
            },
            "children": [
              {
                "node_type": "CheckBlackboardVariableExists",
                "name": "Check Data Exists",
                "config": {
                  "variable": "sensor_data"
                }
              }
            ]
          },
          {
            "node_type": "Repeat",
            "name": "Repeat 5 Times",
            "config": {
              "num_success": 5
            },
            "children": [
              {
                "node_type": "Success",
                "name": "Perform Action",
                "config": {}
              }
            ]
          },
          {
            "node_type": "OneShot",
            "name": "Execute Once",
            "config": {
              "policy": "ON_SUCCESSFUL_COMPLETION"
            },
            "children": [
              {
                "node_type": "SetBlackboardVariable",
                "name": "Initialize System",
                "config": {
                  "variable": "initialized",
                  "value": "true"
                }
              }
            ]
          }
        ]
      },
      {
        "node_type": "Sequence",
        "name": "Branch 4: Parallel Processing",
        "config": {
          "memory": true
        },
        "children": [
          {
            "node_type": "Parallel",
            "name": "Parallel Sensors",
            "config": {
              "policy": "SuccessOnAll",
              "synchronise": true
            },
            "children": [
              {
                "node_type": "Wait",
                "name": "Camera Scan",
                "config": {
                  "duration": 2.0
                }
              },
              {
                "node_type": "Wait",
                "name": "Lidar Scan",
                "config": {
                  "duration": 2.0
                }
              },
              {
                "node_type": "Success",
                "name": "GPS Update",
                "config": {}
              }
            ]
          }
        ]
      },
      {
        "node_type": "Sequence",
        "name": "Branch 5: Blackboard Operations",
        "config": {
          "memory": true
        },
        "children": [
          {
            "node_type": "SetBlackboardVariable",
            "name": "Set Counter",
            "config": {
              "variable": "counter",
              "value": "0"
            }
          },
          {
            "node_type": "GetBlackboardVariable",
            "name": "Get Counter",
            "config": {
              "variable": "counter"
            }
          },
          {
            "node_type": "CheckBlackboardVariableExists",
            "name": "Check Variable Exists",
            "config": {
              "variable": "counter"
            }
          },
          {
            "node_type": "UnsetBlackboardVariable",
            "name": "Clear Temp Data",
            "config": {
              "variable": "temp_data"
            }
          }
        ]
      },
      {
        "node_type": "Sequence",
        "name": "Branch 6: More Status Converters",
        "config": {
          "memory": false
        },
        "children": [
          {
            "node_type": "FailureIsRunning",
            "name": "Failure → Running",
            "config": {},
            "children": [
              {
                "node_type": "Failure",
                "name": "Always Fail",
                "config": {}
              }
            ]
          },
          {
            "node_type": "RunningIsFailure",
            "name": "Running → Failure",
            "config": {},
            "children": [
              {
                "node_type": "Dummy",
                "name": "Dummy Node",
                "config": {}
              }
            ]
          },
          {
            "node_type": "SuccessIsRunning",
            "name": "Success → Running",
            "config": {},
            "children": [
              {
                "node_type": "PassThrough",
                "name": "Debug Passthrough",
                "config": {},
                "children": [
                  {
                    "node_type": "Success",
                    "name": "Final Success",
                    "config": {}
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "node_type": "Success",
        "name": "Fallback Success",
        "config": {}
      }
    ]
  }
}
