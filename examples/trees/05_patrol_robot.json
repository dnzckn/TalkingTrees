{
  "$schema": "1.0.0",
  "metadata": {
    "name": "Robot Patrol",
    "version": "1.0.0",
    "author": "TalkingTrees Examples",
    "description": "Autonomous robot patrol behavior with battery management",
    "tags": [
      "example",
      "robot",
      "patrol",
      "realistic"
    ]
  },
  "root": {
    "node_type": "Selector",
    "name": "Main Control",
    "config": {},
    "children": [
      {
        "node_type": "Sequence",
        "name": "Battery Low - Go Charge",
        "config": {},
        "children": [
          {
            "node_type": "Inverter",
            "name": "Battery Not OK",
            "config": {},
            "children": [
              {
                "node_type": "CheckBlackboardVariableValue",
                "name": "Check Battery > 20%",
                "config": {
                  "variable": "battery",
                  "operator": "<",
                  "value": 20.0
                }
              }
            ]
          },
          {
            "node_type": "Success",
            "name": "Battery Low Alert",
            "config": {}
          },
          {
            "node_type": "Success",
            "name": "Navigate to Charger",
            "config": {}
          },
          {
            "node_type": "TickCounter",
            "name": "Charging",
            "config": {
              "duration": 20,
              "completion_status": "SUCCESS"
            }
          },
          {
            "node_type": "Success",
            "name": "Charged",
            "config": {}
          }
        ]
      },
      {
        "node_type": "Sequence",
        "name": "Normal Patrol",
        "config": {},
        "children": [
          {
            "node_type": "Success",
            "name": "Patrolling",
            "config": {}
          },
          {
            "node_type": "Success",
            "name": "Move to Waypoint 1",
            "config": {}
          },
          {
            "node_type": "TickCounter",
            "name": "Scan Area 1",
            "config": {
              "duration": 10,
              "completion_status": "SUCCESS"
            }
          },
          {
            "node_type": "Success",
            "name": "Move to Waypoint 2",
            "config": {}
          },
          {
            "node_type": "TickCounter",
            "name": "Scan Area 2",
            "config": {
              "duration": 10,
              "completion_status": "SUCCESS"
            }
          },
          {
            "node_type": "Success",
            "name": "Patrol Complete",
            "config": {}
          }
        ]
      }
    ]
  },
  "blackboard_schema": {
    "battery_level": {
      "type": "float",
      "default": 100.0,
      "description": "Current battery percentage",
      "min": 0.0,
      "max": 100.0
    },
    "current_waypoint": {
      "type": "int",
      "default": 0,
      "description": "Current waypoint index"
    }
  },
  "dependencies": {
    "behaviors": [
      "Selector",
      "Sequence",
      "Inverter",
      "CheckBattery",
      "Log",
      "Wait",
      "Success"
    ]
  }
}